"use strict";(self["webpackChunkonlinestore"]=self["webpackChunkonlinestore"]||[]).push([[889],{889:function(t,e,r){r.r(e),r.d(e,{default:function(){return O}});var l=r(641),s=r(3751),d=r(33);const n={class:"my-5 row justify-content-center"},o={class:"table align-middle"},u=(0,l.Lk)("thead",null,[(0,l.Lk)("th",null,"品名"),(0,l.Lk)("th",null,"數量"),(0,l.Lk)("th",null,"單價")],-1),a={class:"text-end"},c=(0,l.Lk)("td",{colspan:"2",class:"text-end"},"總計",-1),i={class:"text-end"},k={class:"table"},h=(0,l.Lk)("th",{width:"100"},"Email",-1),L=(0,l.Lk)("th",null,"姓名",-1),p=(0,l.Lk)("th",null,"收件人電話",-1),v=(0,l.Lk)("th",null,"收件人地址",-1),b=(0,l.Lk)("th",null,"付款狀態",-1),y={key:0},_={key:1,class:"text-success"},f={key:0,class:"text-end"},m=(0,l.Lk)("button",{class:"btn btn-danger"},"確認付款去",-1),g=[m];function C(t,e,r,m,C,x){return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,s.D$)(((...t)=>x.payOrder&&x.payOrder(...t)),["prevent"]))},[(0,l.Lk)("table",o,[u,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(C.order.products,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,d.v_)(t.product.title),1),(0,l.Lk)("td",null,(0,d.v_)(t.qty)+"/"+(0,d.v_)(t.product.unit),1),(0,l.Lk)("td",a,(0,d.v_)(t.final_total),1)])))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[c,(0,l.Lk)("td",i,(0,d.v_)(C.order.total),1)])])]),(0,l.Lk)("table",k,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[h,(0,l.Lk)("td",null,(0,d.v_)(C.order.user.email),1)]),(0,l.Lk)("tr",null,[L,(0,l.Lk)("td",null,(0,d.v_)(C.order.user.name),1)]),(0,l.Lk)("tr",null,[p,(0,l.Lk)("td",null,(0,d.v_)(C.order.user.tel),1)]),(0,l.Lk)("tr",null,[v,(0,l.Lk)("td",null,(0,d.v_)(C.order.user.address),1)]),(0,l.Lk)("tr",null,[b,(0,l.Lk)("td",null,[C.order.is_paid?((0,l.uX)(),(0,l.CE)("span",_,"付款完成")):((0,l.uX)(),(0,l.CE)("span",y,"尚未付款"))])])])]),!1===C.order.is_paid?((0,l.uX)(),(0,l.CE)("div",f,g)):(0,l.Q3)("",!0)],32)])}var x={data(){return{order:{user:{}},orderId:""}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/bsstore-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order)})).catch((t=>console.log(t)))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/bsstore-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{t.data.success&&this.getOrder()})).catch((t=>console.log(t)))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},E=r(6262);const I=(0,E.A)(x,[["render",C]]);var O=I}}]);
//# sourceMappingURL=889.f98029dc.js.map