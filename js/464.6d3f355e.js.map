{"version":3,"file":"js/464.6d3f355e.js","mappings":"yMAEOA,MAAM,W,GACJA,MAAM,a,GACJA,MAAM,O,GAGFA,MAAM,a,GACJA,MAAM,Y,EARvB,Y,EAAA,c,GAaiBA,MAAM,a,GACLA,MAAM,sB,GACVC,EAAAA,EAAAA,IAGI,KAHDD,MAAM,aAAY,kGAGrB,G,GACMA,MAAM,Q,EAnB1B,uB,GA4BkBC,EAAAA,EAAAA,IAA+B,KAA5BD,MAAM,mBAAiB,S,+EA5B5CE,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,OACEC,EAAAA,EAAAA,IAAyDC,EAAA,CAAtCC,OAAQC,EAAAC,WAAS,oBACpCP,EAAAA,EAAAA,IAmCM,MAnCNQ,EAmCM,EAlCJR,EAAAA,EAAAA,IAiCM,MAjCNS,EAiCM,EAhCJT,EAAAA,EAAAA,IA+BM,MA/BNU,EA+BM,gBA9BJT,EAAAA,EAAAA,IA6BMC,EAAAA,GAAA,MAlCdS,EAAAA,EAAAA,IAMuBL,EAAAM,UAARC,K,WADPZ,EAAAA,EAAAA,IA6BM,OA7BDF,MAAM,+CACee,IAAKD,EAAKE,I,EAClCf,EAAAA,EAAAA,IA0BM,MA1BNgB,EA0BM,EAzBJhB,EAAAA,EAAAA,IAIM,MAJNiB,EAIM,EAHNjB,EAAAA,EAAAA,IAEI,KAFDkB,KAAK,IAAKC,SATzBC,EAAAA,EAAAA,KAAAC,GASwCC,EAAAC,WAAWV,EAAKE,KAAE,c,EAC5Cf,EAAAA,EAAAA,IAAiE,OAA3DwB,IAAKX,EAAKY,SAAU1B,MAAM,eAAgB2B,IAAKb,EAAKc,O,OAVxEC,IAAA,EAAAC,MAaY7B,EAAAA,EAAAA,IAmBM,MAnBN8B,EAmBM,EAlBJ9B,EAAAA,EAAAA,IAAoD,KAApD+B,GAAoDC,EAAAA,EAAAA,IAAlBnB,EAAKc,OAAK,GAC5CM,GAIAjC,EAAAA,EAAAA,IAEO,OAFPkC,EAAmB,OACfF,EAAAA,EAAAA,IAAGG,EAAAC,SAASC,SAASxB,EAAKyB,QAAK,IAEjCtC,EAAAA,EAAAA,IASM,aARJA,EAAAA,EAAAA,IAOO,UANPuC,KAAK,SACLxC,MAAM,kCACLyC,SAAQ,KAAOC,OAAOC,cAAgB7B,EAAKE,GAC3CI,SA3BnBC,EAAAA,EAAAA,KAAAC,GA2BkCC,EAAAqB,UAAU9B,EAAKE,KAAE,c,CACjC6B,GA5BlBC,EAAAA,EAAAA,IA4BiD,YAEjC,EA9BhBC,c,6BAyCA,GACEC,IAAAA,GACE,MAAO,CACLnC,SAAU,GACVoC,QAAS,CAAC,EACVP,OAAQ,CACNC,YAAa,IAEfnC,WAAW,EAEf,EACA0C,QAAS,CACPC,WAAAA,GACE,MAAMC,EAAO,oEACbC,KAAK7C,WAAY,EACjB6C,KAAKC,MAAMC,IAAIH,GACZI,MAAMC,IACLJ,KAAK7C,WAAY,EACjB6C,KAAKxC,SAAW4C,EAAIT,KAAKnC,QAAQ,IAElC6C,OAAOC,GAAQC,QAAQC,IAAIF,IAChC,EACAnC,UAAAA,CAAWR,GACTqC,KAAKS,QAAQC,KAAM,iBAAgB/C,IACrC,EACA4B,SAAAA,CAAU5B,GACR,MAAMoC,EAAO,4DACPY,EAAO,CACXC,WAAYjD,EACZkD,IAAK,GAEPb,KAAKX,OAAOC,YAAc3B,EAC1BqC,KAAKC,MAAMa,KAAKf,EAAK,CAAEJ,KAAMgB,IAC1BR,MAAMC,IACLJ,KAAKe,kBAAkBX,EAAK,UAC5BJ,KAAKX,OAAOC,YAAc,EAAE,IAE7Be,OAAOC,GAAQC,QAAQC,IAAIF,IAChC,GAEFU,OAAAA,GACEhB,KAAKF,aACP,G,UC5EF,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://onlinestore/./src/views/User/UserProductsView.vue","webpack://onlinestore/./src/views/User/UserProductsView.vue?1823"],"sourcesContent":["<template>\n  <LoadingAnimation :active=\"isLoading\"></LoadingAnimation>\n  <div class=\"content\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6 col-lg-4 d-flex align-items-stretch\"\n        v-for=\"item in products\" :key=\"item.id\">\n          <div class=\"card mb-4\">\n            <div class=\"card-img\">\n            <a href=\"#\" @click.prevent=\"getProduct(item.id)\">\n              <img :src=\"item.imageUrl\" class=\"card-img-top\" :alt=\"item.title\">\n            </a>\n            </div>\n            <div class=\"card-body\">\n              <h5 class=\"card-title fw-bold\">{{ item.title }}</h5>\n              <p class=\"card-text\">Some quick example text to build on the\n                card title and make up the bulk of the card'\n                content.\n              </p>\n              <span class=\"fs-3\">\n                $ {{ $filters.currency(item.price) }}\n              </span>\n                <div>\n                  <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary w-100\"\n                  :disabled=\"this.status.loadingItem === item.id\"\n                  @click.prevent=\"addToCart(item.id)\">\n                  <i class=\"bi bi-cart-fill\"></i>\n                    加入購物車\n                </button>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '',\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts() { // 取得產品列表\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          this.products = res.data.products;\n        })\n        .catch((err) => console.log(err));\n    },\n    getProduct(id) { // 進入商品特定頁面\n      this.$router.push(`/user/product/${id}`);\n    },\n    addToCart(id) { // 加入購物車\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.status.loadingItem = id;\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          this.$httpMessageState(res, '已加入購物車');\n          this.status.loadingItem = '';\n        })\n        .catch((err) => console.log(err));\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n\n<style>\n.post-meta-price {\n  font-size: 16px;\n  margin: 0, 8px, 0, 0;\n}\n.link i{\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  overflow: hidden;\n  top: -10px;\n}\n.card{\n  background-color:#ffffff;\n  border-radius:3px;\n  border: 1px solid #a1a1a1;\n}\n.card-img img{\n  position: relative;\n  width: 100%;\n  height: 300px;\n  aspect-ratio: 1/1;\n  object-fit: cover;\n}\n</style>\n","import { render } from \"./UserProductsView.vue?vue&type=template&id=f1a79954\"\nimport script from \"./UserProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./UserProductsView.vue?vue&type=style&index=0&id=f1a79954&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_Fragment","_createVNode","_component_LoadingAnimation","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_renderList","products","item","key","id","_hoisted_4","_hoisted_5","href","onClick","_withModifiers","$event","$options","getProduct","src","imageUrl","alt","title","_hoisted_7","_hoisted_6","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_ctx","$filters","currency","price","type","disabled","status","loadingItem","addToCart","_hoisted_13","_createTextVNode","_hoisted_12","data","product","methods","getProducts","api","this","$http","get","then","res","catch","err","console","log","$router","push","cart","product_id","qty","post","$httpMessageState","created","__exports__","render"],"sourceRoot":""}